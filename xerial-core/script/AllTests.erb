<%# usage: > cd $(UTGB_COMMON_HOME); erb script/AllTests.erb > test/org/xerial/AllTests.java  %>
//--------------------------------------
// Xerial Project
//
// AllTests.java
// Since: 2007/04/02
//
// $URL$
// $Author$ 
//--------------------------------------
package org.xerial;

import org.junit.runner.RunWith;
import org.junit.runners.Suite;
<%
binDir = "bin" 

testClassFiles = Dir["#{binDir}/**/*Test.class"].find_all { |f|
  !f.include? "gwt"
}
testClasses =testClassFiles.collect { |f| f.strip.gsub(/(\/|\\)/, ".")[binDir.length+1..-1] }
 %>
@RunWith(Suite.class)
@Suite.SuiteClasses({
<% for i in 0..testClasses.length 
  c = testClasses[i]
  c += ',' if i < testClasses.length - 1
%>
<%= c  %><% end %>
})
public class AllTests
{
}


