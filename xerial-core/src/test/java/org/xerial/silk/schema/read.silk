%silk(version:1.0, type:schema)

# coordinate system information
class Coordinate
  :group string default "utgb"
  :species 
  :revision
  :name
end

# region on a genome sequence
class Locus
  belongs_to Coordinate

  :name
  :start integer
  :end integer
  :strand

  index keyword :name
end

# reference sequence
class Reference < Locus
  :sequence sequence
end

# short-read data
class Read < Locus
  belongs_to Reference

  :sequence 
  :qv integer*
end 


projection V1
  Coordinate.* 
  order_by :group, :species, :revision, :name
end 

projection V2
  Coordinate
  Reference(:name, :start, :end:, :strand)
  order_by Coordinate, zvalue(:start, :end)
end

projection V3
  Reference, Read(:name, :start, :end, :strand)
  order_by Reference, zvalue(:start, :end)
end

