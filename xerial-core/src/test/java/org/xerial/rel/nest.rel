% rel(version:1.0)
#
#  REL format design goals (in the order of priorities):
#  
#  * text
#  * no need to nest data for describing structured data
#  * no need to close scope explicitely. 
#  * can describe multi-line spanning data (e.g., FASTA, base64 etc.)
#  * tree-compatible (can be traversed with TreeWalker interface)
#  * modularity: sub part of a REL format file must also be REL format
#  * human-readable text
#  * can describe relational data (flat table data)
#  * can represent tree-structured data (object data)
#  * self-describing format (schema must be present for each data: attribute names and their data types (optional)) 
#  * suited for arrays and property maps
#  * easier to describe (can omit double quotations)
#  * allow blank lines for readability
#  * leading space, inserted for readability, must be ignored

# single comment line

% coordinate -> gene
% 

# object schema definition:  object_name(key[:value], ...) 
> track(name:"refseq gene")

# specify coordinates
> coordinate(group:utgb, type:chromosome, species:human, revision:hg18, name:chr1)

# object_name(attribute,.., object_name(attribute, ...), ...)
> gene(name, strand, start, end, cds(start,end), exon(start, end)*) 
NM_001005277	+	357521	358460	[357521, 358460]	[[357521, 358460]]
NM_001005224	+	357521	358460	[357521, 358460]	[[357521, 358460]]
NM_001005221	+	357521	358460	[357521, 358460]	[[357521, 358460]]
NM_001005277	-	610958	611897	[610958, 611897]	[[610958, 611897]]
NM_001005224	-	610958	611897	[610958, 611897]	[[610958, 611897]]
NM_001005221	-	610958	611897	[610958, 611897]	[[610958, 611897]]
NM_152486	+	850983	869824	[851184, 869396]	[[850983, 851043],[851164, 851256],[855397, 855579],[856281, 856332],[861014, 861139],[864282, 864372],[864517, 864703],[866386, 866549],[867378, 867494],[867652, 867731],[867801, 868301],[868495, 868620],[868940, 869051],[869150, 869824]]	
- description: NL_152486 has several exons

> gene(name:NM_001005277, fasta>)
ATGGATGGAGAGAATCACTCAGTGGTATCTGAGTTTTTGTTTCTGGGACTCACTCATTCATGGGAGATCC
AGCTCCTCCTCCTAGTGTTTTCCTCTGTGCTCTATGTGGCAAGCATTACTGGAAACATCCTCATTGTGTT
TTCTGTGACCACTGACCCTCACTTACACTCCCCCATGTACTTTCTACTGGCCAGTCTCTCCTTCATTGAC
TTAGGAGCCTGCTCTGTCACTTCTCCCAAGATGATTTATGACCTGTTCAGAAAGCGCAAAGTCATCTCCT
TTGGAGGCTGCATCGCTCAAATCTTCTTCATCCACGTCGTTGGTGGTGTGGAGATGGTGCTGCTCATAGC
CATGGCCTTTGACAGATATGTGGCCCTATGTAAGCCCCTCCACTATCTGACCATTATGAGCCCAAGAATG
TGCCTTTCATTTCTGGCTGTTGCCTGGACCCTTGGTGTCAGTCACTCCCTGTTCCAACTGGCATTTCTTG
TTAATTTAGCCTTCTGTGGCCCTAATGTGTTGGACAGCTTCTACTGTGACCTTCCTCGGCTTCTCAGACT
AGCCTGTACCGACACCTACAGATTGCAGTTCATGGTCACTGTTAACAGTGGGTTTATCTGTGTGGGTACT
TTCTTCATACTTCTAATCTCCTACGTCTTCATCCTGTTTACTGTTTGGAAACATTCCTCAGGTGGTTCAT
CCAAGGCCCTTTCCACTCTTTCAGCTCACAGCACAGTGGTCCTTTTGTTCTTTGGTCCACCCATGTTTGT
GTATACACGGCCACACCCTAATTCACAGATGGACAAGTTTCTGGCTATTTTTGATGCAGTTCTCACTCCT
TTTCTGAATCCAGTTGTCTATACATTCAGGAATAAGGAGATGAAGGCAGCAATAAAGAGAGTATGCAAAC
AGCTAGTGATTTACAAGAGGATCTCATAA

> gene
- name:NM_001005224
- fasta>
ATGGATGGAGAGAATCACTCAGTGGTATCTGAGTTTTTGTTTCTGGGACTCACTCATTCATGGGAGATCC
AGCTCCTCCTCCTAGTGTTTTCCTCTGTGCTCTATGTGGCAAGCATTACTGGAAACATCCTCATTGTGTT
TTCTGTGACCACTGACCCTCACTTACACTCCCCCATGTACTTTCTACTGGCCAGTCTCTCCTTCATTGAC
TTAGGAGCCTGCTCTGTCACTTCTCCCAAGATGATTTATGACCTGTTCAGAAAGCGCAAAGTCATCTCCT
TTGGAGGCTGCATCGCTCAAATCTTCTTCATCCACGTCGTTGGTGGTGTGGAGATGGTGCTGCTCATAGC
CATGGCCTTTGACAGATATGTGGCCCTATGTAAGCCCCTCCACTATCTGACCATTATGAGCCCAAGAATG
TGCCTTTCATTTCTGGCTGTTGCCTGGACCCTTGGTGTCAGTCACTCCCTGTTCCAACTGGCATTTCTTG
TTAATTTAGCCTTCTGTGGCCCTAATGTGTTGGACAGCTTCTACTGTGACCTTCCTCGGCTTCTCAGACT
AGCCTGTACCGACACCTACAGATTGCAGTTCATGGTCACTGTTAACAGTGGGTTTATCTGTGTGGGTACT
TTCTTCATACTTCTAATCTCCTACGTCTTCATCCTGTTTACTGTTTGGAAACATTCCTCAGGTGGTTCAT
CCAAGGCCCTTTCCACTCTTTCAGCTCACAGCACAGTGGTCCTTTTGTTCTTTGGTCCACCCATGTTTGT
GTATACACGGCCACACCCTAATTCACAGATGGACAAGTTTCTGGCTATTTTTGATGCAGTTCTCACTCCT
TTTCTGAATCCAGTTGTCTATACATTCAGGAATAAGGAGATGAAGGCAGCAATAAAGAGAGTATGCAAAC
AGCTAGTGATTTACAAGAGGATCTCATAA

# '|' indicates multi-line data where all line breaks are significant (data values are separated by )
>> expression(value[csv]|)
0.0,0.1,0.3,0.5
0.3,0.4,0.7,0.8
# same data representation  
>> expression(value[csv]>)
0.0,0.1,0.3,0.5,
0.3,0.4,0.7,0.8,
# same data representation
>> expression(value*)
[0.0, 0.1, 0.3, 0.5, 0.3, 0.4, 0.7, 0.8]
# same data representation
>> expression(value[csv])
0.0, 0.1, 0.3, 0.5, 0.3, 0.4, 0.7, 0.8


# binary data representation
> gene(name:NM_001005277) 
- sequence[gzip/base64]>
H4sIAL2gYUkAA0WT0ZHEMAhD/zOTojR80ID7r+X0JGcvG29iAkIIrLMrFj+d0XitDcebY+Ph4t87
u811OaxN3Jl5H62t3w0AYez8xifDgTqyo4MFmqRRnEQKh7zPaYSGNDya0AGk5QIIC5igDHzJYNci
acAR5GzbkghKIARn3wdOwoM42OxAEDgVDxxgFhjbwBIyndNk0LT74pa7Uua1qWUi5hO1YEhKPK4e
U2XInVqhWeUnOp0UEc5+N5+C8C0dCfuUWbFKIpJUsFTn+Dg3KjhOiQKBm38uaiM2LOcTuTqlVVsr
NaBPJbbTEAFCqkOuvTMSJkvCTtZG+aBmp7l9j1jNefWPuFfojFSRfrPT4an0eFlnpEopp2JWrXSC
x+WQYclcpyUb384W1vdh/iko85VvEWxaXuTR/nqgnhJ9ZV/xU1eamUlB15yEUmdARec7MeENQ2w5
jnDIQN7zBfM0LePAue186X3+AB6A8ZbHAwAA
# new attribute value
- sequence[gzip/base64]>
H4sIAL2gYUkAA0WT0ZHEMAhD/zOTojR80ID7r+X0JGcvG29iAkIIrLMrFj+d0XitDcebY+Ph4t87
u811OaxN3Jl5H62t3w0AYez8xifDgTqyo4MFmqRRnEQKh7zPaYSGNDya0AGk5QIIC5igDHzJYNci
acAR5GzbkghKIARn3wdOwoM42OxAEDgVDxxgFhjbwBIyndNk0LT74pa7Uua1qWUi5hO1YEhKPK4e
U2XInVqhWeUnOp0UEc5+N5+C8C0dCfuUWbFKIpJUsFTn+Dg3KjhOiQKBm38uaiM2LOcTuTqlVVsr
NaBPJbbTEAFCqkOuvTMSJkvCTtZG+aBmp7l9j1jNefWPuFfojFSRfrPT4an0eFlnpEopp2JWrXSC
x+WQYclcpyUb384W1vdh/iko85VvEWxaXuTR/nqgnhJ9ZV/xU1eamUlB15yEUmdARec7MeENQ2w5
jnDIQN7zBfM0LePAue186X3+AB6A8ZbHAwAA

> gene
-  name:g1
-  start:357521
> gene
-  name:g2	
-  start:610958


% paper => references
% references => paper

> paper(id:1)
- title: "some paper"
- references(
  > paper
    - title: reference paper1
    - author: author 1
    - author: author 2
    - author: author 3
  > paper 
    - title: reference paper2
    - author: author 1
)
# still in the scope of the paper (id:1)
- year:2009          
# begin a new paper scope
> paper(id:2)       
- title: "another paper"
- year:2008

        
